# ==================================
# PROVES DE PERMISOS - ROLE_ADMIN
# ==================================
# El ROLE_ADMIN te tots els permisos 


###
## LOGIN ADMIN
POST http://localhost:8090/api/v1/auth/login HTTP/1.1
Content-Type: application/json

{
  "username": "admin",
  "password": "password123"
}

@token = eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc3MTUxODQwMiwiZXhwIjoxNzcxNTIyMDAyfQ.KFVEKY-5gstoN5eJIjroZbw5WmxKdv-03UVUt9ua09M

###
## Llistar directors 
GET http://localhost:8090/api/v1/directores?page=3&size=5&sort=nombre,asc HTTP/1.1
Content-Type: application/json




###
## Mostrar director per ID
GET http://localhost:8090/api/v1/directores/3/info HTTP/1.1
Content-Type: application/json

###
## director no valid
GET http://localhost:8090/api/v1/directores/10000000/info HTTP/1.1
Content-Type: application/json

###
## Crear director
POST http://localhost:8090/api/v1/directores HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "nombre": "Martínez Lázaro",
  "nacionalidad": "Espanyol"
}

###
## Editar director
PUT http://localhost:8090/api/v1/directores/6 HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "nombre": "Tommy Martínez Lázaro",
  "nacionalidad": "Espanya"
}

###
## borrar director utilitzar director sense pelicula [mostra error perque este te pelicules dins]
DELETE http://localhost:8090/api/v1/directores/20 HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

###
## Llistar pel·lícules 
GET http://localhost:8090/api/v1/peliculas?page=3&size=5&sort=titulo,asc HTTP/1.1
Content-Type: application/json

###
## Listar pelicules ordenades per titol
GET http://localhost:8090/api/v1/peliculas/orden/desc HTTP/1.1
Content-Type: application/json

###
## Mostrar pel·lícula per ID
GET http://localhost:8090/api/v1/peliculas/3/info HTTP/1.1
Content-Type: application/json

###
## crear pelicula
POST http://localhost:8090/api/v1/peliculas HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "titulo": "MAdagascar",
  "directorId": 5,
  "generoId": 1,
  "año": 2022,
  "duracion": 120,
  "sinopsis": "eresa una vez"
}

###
## llistar pelicules per any
GET http://localhost:8090/api/v1/peliculas/year/2002 HTTP/1.1
Content-Type: application/json

###
## editar pelicula
PUT http://localhost:8090/api/v1/peliculas/32 HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "titulo": "Pelicula editada ADMIN",
  "duracion": 125
}

###
## borrar pelicula
DELETE http://localhost:8090/api/v1/peliculas/11 HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}



###
## Llistar gèneres 
GET http://localhost:8090/api/v1/generos?page=0&size=5&sort=nombre,asc HTTP/1.1
Content-Type: application/json

###
## Mostrar gènere per ID
GET http://localhost:8090/api/v1/generos/9 HTTP/1.1
Content-Type: application/json

###
## Crear gènere
POST http://localhost:8090/api/v1/generos HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "nombre": "Comedia negra",
  "descripcion": "Gènere creat des de proves ADMIN"
}

###
## Editar gènere
PUT http://localhost:8090/api/v1/generos/3 HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "descripcion": "Descripció actualitzada per ADMIN"
}

###
## Borrar gènere (usa un género sin películas, no el 9 que tiene referencias)
DELETE http://localhost:8090/api/v1/generos/2 HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}
