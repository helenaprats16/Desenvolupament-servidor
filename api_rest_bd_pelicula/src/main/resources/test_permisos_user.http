# =================================
# PROVES DE PERMISOS - ROLE_USER
# =================================
# El ROLE_USER pot: GET i PUT.

###
##
POST http://localhost:8090/api/v1/auth/register HTTP/1.1
Content-Type: application/json

{
  "nombre": "Usuari Proves",
  "email": "usuari.proves.2026@email.com",
  "username": "usuari_proves_2026",
  "password": "password123"
}

###
## LOGIN USER EXISTENT
POST http://localhost:8090/api/v1/auth/login HTTP/1.1
Content-Type: application/json

{
  "username": "carlosm",
  "password": "password123"
}

###
## TOKEN USER (pega aqui el token del login de dalt)
@token = eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjYXJsb3NtIiwiaWF0IjoxNzcxNTE1ODAzLCJleHAiOjE3NzE1MTk0MDN9.zCYOR1gQsYtcxjJZWQGuhYPD_UN39m_tpQt7lWYMTts 

# =====================================================

###
## Llistar directors
GET http://localhost:8090/api/v1/directores?page=2&size=5&sort=nombre,asc HTTP/1.1
Content-Type: application/json


###
## Mostrar director per id
GET http://localhost:8090/api/v1/directores/5/info HTTP/1.1
Content-Type: application/json

###
## Crear director -> Donara error ja que no te permisos per a crear (error: 403)
POST http://localhost:8090/api/v1/directores HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "nombre": "Jose Maria ForquÃ©",
  "nacionalidad": "Espanyol"
}

###
## Editar director -> si que te permisos
PUT http://localhost:8090/api/v1/directores/6 HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "nombre": "editor editat",
  "nacionalidad": "Espanya"
}

###
## Borrar director -> no te permisos per a borrar (error: 403)
DELETE http://localhost:8090/api/v1/directores/2 HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}



###
## Llistar pelicula
GET http://localhost:8090/api/v1/peliculas?page=1&size=5&sort=id,asc HTTP/1.1
Content-Type: application/json

###
## Mostrar pelicula per id
GET http://localhost:8090/api/v1/peliculas/23/info HTTP/1.1
Content-Type: application/json

###
## Buscar director per nom
GET http://localhost:8090/api/v1/directores?nombre=jo&page=0&size=5&sort=nombre,asc HTTP/1.1
Content-Type: application/json



###
## Crear pelicula ->no podra crear una pelicula
POST http://localhost:8090/api/v1/peliculas HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "titulo": "titanic",
  "directorId": 5,
  "generoId": 1,
  "aÃ±o": 2022,
  "duracion": 120,
  "sinopsis": "holaadjfalksjdf"
}

###
## llistar pelicules per any
GET http://localhost:8090/api/v1/peliculas/year/2002 HTTP/1.1
Content-Type: application/json

###
## Editar pelicula -> si tindra permisos per editar
PUT http://localhost:8090/api/v1/peliculas/22 HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "titulo": "El retorno del rey",
  "duracion": 125
}

###
## Borrar pelicula -> no te permisos de borrar
DELETE http://localhost:8090/api/v1/peliculas/32 HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}



###
## Llistar gèneres
GET http://localhost:8090/api/v1/generos?page=0&size=5&sort=nombre,asc HTTP/1.1
Content-Type: application/json

###
## Mostrar gènere per ID -> 
GET http://localhost:8090/api/v1/generos/1 HTTP/1.1
Content-Type: application/json
###
##  Buscar genere per nom
GET http://localhost:8090/api/v1/generos?nombre=Comedia&page=0&size=5&sort=nombre,asc HTTP/1.1
Content-Type: application/json

###
## Crear gènere -> no te permisos decrear
POST http://localhost:8090/api/v1/generos HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "nombre": "Comedia negra ",
  "descripcion": "jajajajaj"
}

###
## Editar gènere -> te permisos per editar
PUT http://localhost:8090/api/v1/generos/1 HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "descripcion": "Descripció actualitzada per un usuari"
}

###
## Borrar gènere -> no pot eliminar
DELETE http://localhost:8090/api/v1/generos/9 HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}
